# План исправления генерации PDF и UI

## Выявленные проблемы

### 1. PDF Генерация
- ❌ Текст обрезается снизу в ячейках
- ❌ Выравнивание элементов не соответствует превью
- ❌ Шрифт не адаптируется к увеличившемуся размеру ячеек
- ❌ Использование line-clamp не работает в html2canvas

### 2. UI Интерфейс
- ❌ Границы контейнера формы (Card) слишком бледные
- ❌ Нет отображения непопавших треков

## Решения

### Для PDF (ExportButton.tsx - renderTicketHTML):
1. **Отказ от flexbox** - использовать table-cell с vertical-align: middle
2. **Динамическая высота ячеек**: `cellHeight = 40 + fontSize * 3`
3. **Убрать line-clamp** - показывать текст полностью
4. **Увеличить ширину контейнера** до 1200px
5. **Простая структура HTML** без сложных CSS

### Для UI (InputSection.tsx, page.tsx):
1. **Card**: border-slate-400 вместо border-slate-200
2. **Header**: добавить border-b-2 border-slate-300
3. **Добавить MissedTracksSection** - компонент для непопавших треков

## Критерии выполнения

| # | Критерий | Статус |
|---|----------|--------|
| 1 | Текст в PDF НЕ обрезается | ⬜ |
| 2 | Вертикальное выравнивание текста по центру | ⬜ |
| 3 | Горизонтальное выравнивание текста по центру | ⬜ |
| 4 | Размер шрифта соответствует настройке | ⬜ |
| 5 | Высота ячеек адаптируется к шрифту | ⬜ |
| 6 | Границы Card контрастные | ⬜ |
| 7 | Показываются непопавшие треки | ⬜ |
| 8 | Визуальное соответствие превью и PDF | ⬜ |

## Файлы для изменения

1. `src/components/ExportButton.tsx` - полная переработка renderTicketHTML
2. `src/components/InputSection.tsx` - контраст границ
3. `src/app/page.tsx` - состояние missedTracks
4. `src/components/MissedTracksSection.tsx` - НОВЫЙ файл
